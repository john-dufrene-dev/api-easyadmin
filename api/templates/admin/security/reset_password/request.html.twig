{% extends 'admin/layout/_default.html.twig' %}
{% trans_default_domain 'admin' %}

{% block body_class 'page-login' %}

{% block page_title %} {{ 'request.title.password'|trans }} {% endblock %}

{% block wrapper_wrapper %}
    <div class="login-wrapper">

        <header class="main-header mb-2">
            <div id="header-logo"> <h4 class="logo">{{ 'request.title.password'|trans }}</h4> </div>
        </header>

        <section class="content">
            {% for flashError in app.flashes('reset_password_error') %}
                <div class="w-100 alert alert-danger rounded mb-3">
                    <i class="fas fa-times-circle mr-1"></i>
                    {{ flashError }}
                </div>
            {% endfor %}

            {{ form_start(requestForm) }}

            {% if requestForm.vars.errors.form.getErrors(true)|length %}
                {% for error in requestForm.vars.errors.form.getErrors(true) %}
                    <div class="w-100 alert alert-danger rounded mb-3" role="alert">
                        <i class="fas fa-times-circle mr-1"></i>
                        {{ error.message }}
                    </div>
                {% endfor %}
            {% endif %}

            <div class="form-group">
                <div class="form-widget">
                    {{ form_widget(requestForm.email, {'attr': {'class': 'form-control'}}) }}
                </div>
            </div>

            <div>{{ 'request.text.password'|trans }}</div>

            <div class="form-group field-button d-grid gap-2">
                <button class="btn btn-primary btn-lg btn-block">{{ 'request.submit.password'|trans }}</button>
                {{ form_end(requestForm) }}
            </div>

            <h5><a href="{{ path('admin_login') }}">{{ 'request.login.password'|trans }}</a></h5>

        </section>

    </div>
{% endblock %}
